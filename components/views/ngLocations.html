<!doctype html>

<html ng-app="angLocApp">

<head>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular.min.js"></script>
	<script src="/ngLocations.js"></script>
	<link rel="stylesheet" type="text/css" href="css/style.css" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<meta charset="UTF-8">
</head>

<body>
	<h1>Locations</h1>
	<div ng-controller="LocationsController">

		<div class="form-table" style="margin-bottom: 10px;">
			<table>
				<tr>
					<td class="text-center form-table-td" colspan="2">
						<button class="button-22" ng-click="action='add'"> Create location </button>
					</td>
				</tr>
			</table>
		</div>

		<table class="table">
			<thead>
				<tr>
					<th>Id</th>
					<th>Address</th>
					<th>City</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-if="loadingLocations">
					<td colspan="5">
						<div class="spinner-border" role="status">
							<span class="visually-hidden">Loading...</span>
						</div>
					</td>
				</tr>
				<tr ng-repeat="location in locations">
					<th>{{ location.locId }}</th>
					<td>{{ location.locAddress }}</td>
					<td>{{ location.city }}</td>
				</tr>
			</tbody>

		</table>


		<div class="form-table" ng-if="action=='add'">
			<table>
				<td colspan="2" class="text-center form-table-td">
					<h3>Create location</h3>
				</td>
				<tr>
					<td class="form-table-td">Address</td>
					<td class="form-table-td">
						<input class="form-input" type="text" size="30" ng-model="newLocation.address" />
					</td>
				</tr>
				<tr>
					<td class="form-table-td">City</td>
					<td class="form-table-td">
						<input class="form-input" type="text" size="15" ng-model="newLocation.city" />
					</td>
				</tr>
				<tr>
					<td colspan="2" class="text-center form-table-td">
						<button class="button-22" ng-click="newLocation()"> Save </button>
					</td>
				</tr>
			</table>
		</div>
	</div>


	</div>
</body>

</html>